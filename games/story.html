<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HistÃ³ria Interativa - Jogos para CrianÃ§as Autistas</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/story.css">
    <style>
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="game-header">
            <button id="back-button" class="button button-back" aria-label="Voltar para o menu principal">
                <span class="back-icon">â†</span> Voltar
            </button>
            <h1>HistÃ³ria Interativa</h1>
            <div class="sound-control">
                <button id="sound-toggle" class="sound-button sound-on" aria-label="Ativar ou desativar sons">
                    <span class="sound-icon">ğŸ”Š</span>
                </button>
            </div>
        </header>
        
        <main>
            <!-- Tela de seleÃ§Ã£o de histÃ³ria -->
            <section id="story-selection" class="selection-screen">
                <h2>Escolha uma histÃ³ria</h2>
                <div class="story-buttons">
                    <button class="story-button" data-story="school" aria-label="HistÃ³ria: Um Dia na Escola">
                        <div class="story-icon school-icon">ğŸ«</div>
                        <h3 class="story-name">Um Dia na Escola</h3>
                        <p class="story-description">Ajude Miguel a fazer amigos e lidar com situaÃ§Ãµes na escola</p>
                    </button>
                    
                    <button class="story-button" data-story="park" aria-label="HistÃ³ria: Aventura no Parque">
                        <div class="story-icon park-icon">ğŸŒ³</div>
                        <h3 class="story-name">Aventura no Parque</h3>
                        <p class="story-description">Explore o parque com Ana e aprenda sobre compartilhar e esperar sua vez</p>
                    </button>
                    
                    <button class="story-button" data-story="birthday" aria-label="HistÃ³ria: Festa de AniversÃ¡rio">
                        <div class="story-icon birthday-icon">ğŸ‚</div>
                        <h3 class="story-name">Festa de AniversÃ¡rio</h3>
                        <p class="story-description">Participe da festa de Lucas e aprenda sobre emoÃ§Ãµes e interaÃ§Ãµes sociais</p>
                    </button>
                </div>
            </section>
            
            <!-- Tela da histÃ³ria -->
            <section id="story-screen" class="story-screen hidden">
                <div class="story-container">
                    <div class="story-header">
                        <h2 id="story-title">TÃ­tulo da HistÃ³ria</h2>
                        <div class="story-progress">
                            <div class="progress-bar">
                                <div id="progress-fill" class="progress-fill"></div>
                            </div>
                            <div class="progress-text">
                                <span id="current-page">1</span>/<span id="total-pages">10</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="story-content">
                        <div class="story-scene">
                            <div id="scene-image" class="scene-image" role="img" aria-label="DescriÃ§Ã£o da cena"></div>
                        </div>
                        
                        <div class="story-text">
                            <p id="scene-text" aria-live="polite">Texto da histÃ³ria aparecerÃ¡ aqui...</p>
                            <div id="character-emotion" class="character-emotion hidden">
                                <div class="emotion-icon"></div>
                                <p class="emotion-text"></p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="story-choices" class="story-choices">
                        <!-- Escolhas serÃ£o geradas dinamicamente aqui -->
                    </div>
                    
                    <div class="story-controls">
                        <button id="story-hint-button" class="button" aria-label="Mostrar dica">
                            <span class="hint-icon">ğŸ’¡</span> Dica
                        </button>
                        <button id="story-continue-button" class="button button-primary hidden" aria-label="Continuar histÃ³ria">
                            Continuar <span class="next-icon">â†’</span>
                        </button>
                        <button id="back-to-stories" class="button button-back" aria-label="Voltar para seleÃ§Ã£o de histÃ³rias">
                            <span class="back-icon">â†</span> Voltar
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Tela de conclusÃ£o -->
            <section id="story-completion" class="completion-screen hidden">
                <div class="completion-message">
                    <h2>ParabÃ©ns!</h2>
                    <p>VocÃª completou a histÃ³ria!</p>
                    <div class="completion-animation">ğŸ‰</div>
                    <p id="completion-summary">Resumo da histÃ³ria aparecerÃ¡ aqui...</p>
                </div>
                
                <div class="completion-buttons">
                    <button id="restart-story-button" class="button" aria-label="Ler novamente">
                        <span class="replay-icon">ğŸ”„</span> Ler Novamente
                    </button>
                    <button id="different-ending-button" class="button" aria-label="Tentar um final diferente">
                        Tentar Final Diferente <span class="next-icon">â†’</span>
                    </button>
                    <button id="back-to-stories-button" class="button button-back" aria-label="Escolher outra histÃ³ria">
                        <span class="back-icon">â†</span> Escolher Outra HistÃ³ria
                    </button>
                </div>
            </section>
            
            <!-- InstruÃ§Ãµes -->
            <section id="instructions" class="instructions">
                <h3>Como Jogar</h3>
                <p><strong>HistÃ³ria Interativa</strong> permite que vocÃª faÃ§a escolhas que afetam o desenvolvimento da histÃ³ria.</p>
                <p>Leia o texto, observe as imagens e as emoÃ§Ãµes dos personagens, e escolha o que fazer em seguida.</p>
                <p>Suas escolhas afetarÃ£o o que acontece na histÃ³ria e como os personagens se sentem.</p>
                <p>Use o botÃ£o de dica se precisar de ajuda para entender as emoÃ§Ãµes ou situaÃ§Ãµes sociais.</p>
            </section>
        </main>
        
        <footer class="footer">
            <p>Desenvolvido especialmente para crianÃ§as do espectro autista</p>
        </footer>
    </div>
    
    <!-- Elementos de Ã¡udio -->
    <audio id="success-sound" preload="auto">
        <source src="../assets/sounds/success.mp3" type="audio/mpeg">
    </audio>
    <audio id="error-sound" preload="auto">
        <source src="../assets/sounds/error.mp3" type="audio/mpeg">
    </audio>
    <audio id="hint-sound" preload="auto">
        <source src="../assets/sounds/hint.mp3" type="audio/mpeg">
    </audio>
    <audio id="completion-sound" preload="auto">
        <source src="../assets/sounds/completion.mp3" type="audio/mpeg">
    </audio>
    <audio id="click-sound" preload="auto">
        <source src="../assets/sounds/click.mp3" type="audio/mpeg">
    </audio>
    <audio id="page-turn-sound" preload="auto">
        <source src="../assets/sounds/page-turn.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Elemento para anÃºncios de leitor de tela -->
    <div id="screen-reader-announcer" class="visually-hidden" aria-live="polite"></div>
    
    <script src="../scripts/main.js"></script>
    <script src="../scripts/story.js"></script>
</body>
</html>
